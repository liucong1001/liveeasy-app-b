<ion-header>

  <ion-navbar>
    <ion-title>我的客户</ion-title>
    <ion-icon ios="ios-add" md="md-add" class="adds" (click)="addpassenger()"></ion-icon>
  </ion-navbar>

</ion-header>

<ion-content>
  <ion-grid class="p0">
   <ion-row class="houseMenu">
        <ion-col col-4 class="tc" (click)="showMenu1()">
          区域
          <ion-icon name="md-arrow-dropdown"></ion-icon>
        </ion-col>
        <ion-col col-4 class="tc" (click)="showMenu2()">
          户型
          <ion-icon name="md-arrow-dropdown"></ion-icon>
        </ion-col>
        <ion-col col-4 class="tc" (click)="showMenu3()">
          更多
          <ion-icon name="md-arrow-dropdown"></ion-icon>
        </ion-col>
      </ion-row>

    <ion-row class="bgWhite houseMain" *ngFor=" let item of pageData; index as i;">
        <ion-col col-12 (click)="gopassengerDetail(item)">
            <ion-row>
              <ion-col col-9>
                <div class="ellipsis tips">
                  <font size="3">{{item.customerName}}</font>
                    <!--急-->
                  <a>{{item.followLabel==1?'急':''}}</a>
                    <!--约-->
                  <a>{{item.lookLable==1?'约':''}}</a>
                  <!--<a>约</a>-->
                </div>
                <p class="m5">
                  <font size="2" color="#aaa">ID:
                    <span>{{item.customerSn}}</span>
                    <span>{{item.intentionDiviCode}}</span>
                  </font>
                </p>
                <p class="m5">
                    <font size="2" color="#aaa">
                      <span>{{item.createTime | date:'yyyy年MM月dd日'}}录入</span>
                      <span>归属人：{{item.agentId}}</span>
                    </font>
                  </p>
              </ion-col>
              <ion-col col-3 class="tc m15">
                <img src="assets/imgs/phone.png" alt="" width="45" height="45">
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col col-12 class="houseStatus">
            <ion-row>
              <ion-col col-4 class="tc" (click)="goFollow()">
                <a>跟进</a>
              </ion-col>
              <ion-col col-4 class="tc" (click)="golook()">
                <a>约看</a>
              </ion-col>
              <ion-col col-4 class="tc" (click)="closePrivateGuest()">
                <a>关闭</a>
              </ion-col>
            </ion-row>
          </ion-col>
    </ion-row>

    <div *ngIf="pageData==null">
      抱歉，找不到数据
    </div>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content
        loadingSpinner="bubbles"
        loadingText="加载中...">

      </ion-infinite-scroll-content>
    </ion-infinite-scroll>

  </ion-grid>

</ion-content>
<div class="popLocation">
  <!-- 区域 -->
  <ion-grid class="lists p0" *ngIf="show">
    <ion-row>
      <ion-col col-6 class="p0">
        <div class="leftChange">
          <a *ngFor=" let item of area"   [ngClass]="{'active': isActive(item)}" (click)="go(item)">{{item.name}}</a>
        </div>
        <div class="p5 ">
          <button ion-button full color="light" (click)="reset()">重置</button>
        </div>
      </ion-col>
      <ion-col col-6 class="p0">
        <div class="leftChange updateBg">
          <ion-list radio-group [(ngModel)]="intentionTradeCodeId" (ngModelChange)="intentionTrade($event)">
            <ion-item *ngFor=" let items of district;let i = index" >
              <ion-label>{{items.name}}</ion-label>
              <ion-radio value="{{items.id}}"></ion-radio>
            </ion-item>
          </ion-list>
          <div *ngIf="hTips">暂无该地区！</div>
        </div>
        <div class="p5 ">
          <button ion-button full color="danger" (click)="search()">确定</button>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <!-- 户型 -->
  <div class="lists houseType" *ngIf="houseType">
    <ion-list radio-group [(ngModel)]="params.intentionRoom" class="scrollC">
      <ion-item class="item-blockUpdate">
        <ion-label>不限</ion-label>
        <ion-radio value="0"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>一室</ion-label>
        <ion-radio value="1"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>两室</ion-label>
        <ion-radio value="2"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>三室</ion-label>
        <ion-radio value="3"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>四室</ion-label>
        <ion-radio value="4"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>五室</ion-label>
        <ion-radio value="5"></ion-radio>
      </ion-item>
      <ion-item class="item-blockUpdate">
        <ion-label>五室以上</ion-label>
        <ion-radio value="6"></ion-radio>
      </ion-item>
    </ion-list>
    <div class="p5 btns">
      <button ion-button full color="danger" (click)="search()">确定</button>
    </div>
  </div>
  <!-- 跟进 -->
  <div class="lists houseType" *ngIf="more">
    <ion-list radio-group class="scrollC">
      <ion-item>
        <ion-label>只看我的房源</ion-label>
        <ion-radio checked="true" value="go"></ion-radio>
      </ion-item>

      <ion-item>
        <ion-label>待处理申请关闭</ion-label>
        <ion-radio value="rust"></ion-radio>
      </ion-item>
    </ion-list>
    <div class="p5 btns">
      <button ion-button full color="danger">确定</button>
    </div>
  </div>
</div>
<div class="pop" *ngIf="pop" (click)="pops()"></div>
